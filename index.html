<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Journey to Health — Trials Finder (Reliable Embed-first)</title>
<style>
  :root { color-scheme: light; }
  body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; background: #f5f8fb; }
  header { background: #0b6ea9; color: #fff; padding: 16px; text-align: center; font-weight: 600; }
  .wrap { max-width: 1000px; margin: 0 auto; padding: 20px; }
  .card { background: #fff; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,.05); padding: 16px; margin: 12px 0; }
  h2 { margin: 0 0 10px; color: #0b6ea9; font-size: 1.2rem; }
  .row { display:flex; gap:10px; flex-wrap:wrap; align-items:center }
  label { font-size: 14px; color: #234; }
  input, select { padding: 10px; border: 1px solid #d8e2ea; border-radius: 8px; font: inherit; }
  input[type="checkbox"] { width: auto; height: auto; }
  .muted { color: #5a6b78; font-size: 13px; }
  .btn { background:#0b6ea9; color:#fff; border:none; border-radius:8px; padding:10px 14px; cursor:pointer; }
  .btn.secondary { background:#e8f1f9; color:#0b3a55; }
  .block-actions { display:flex; gap:8px; flex-wrap:wrap; margin-top:8px }
  .sublink { font-size: 12px; }
  .hr { height:1px; background:#ecf1f5; margin:12px 0 }
  .pill { display:inline-block; padding:2px 6px; border-radius:999px; background:#fff3cd; color:#7a4d00; border:1px solid #ffe08a; font-size:12px }
</style>
</head>
<body>
<header>Journey to Health — Clinical Trials Finder</header>
<div class="wrap">

  <div class="card">
    <h2>Patient-friendly search (opens official sites)</h2>
    <p class="muted">Best for reliability today. Enter what you’re looking for and we’ll open matching searches on official registries in new tabs. You can refine on those pages without any blockers.</p>

    <div class="row">
      <label>Condition / keywords<br>
        <input id="q" placeholder="e.g., myelodysplastic syndrome, U2AF1, clonal cytopenia" style="min-width:320px">
      </label>
      <label>Recruiting only<br>
        <input id="recr" type="checkbox"> <span class="muted">applies on ClinicalTrials.gov page</span>
      </label>
      <label>Phase (optional)<br>
        <select id="phase">
          <option value="">Any</option>
          <option>Phase 1</option>
          <option>Phase 2</option>
          <option>Phase 3</option>
          <option>Phase 4</option>
        </select>
      </label>
    </div>

    <div class="block-actions">
      <button class="btn" onclick="openCtGov()">Open ClinicalTrials.gov</button>
      <button class="btn secondary" onclick="openWHO()">Open WHO (global)</button>
      <button class="btn secondary" onclick="openEU()">Open EU CTIS</button>
      <button class="btn secondary" onclick="openPubMed()">Open PubMed (papers)</button>
      <button class="btn secondary" onclick="openRePORTER()">Open NIH RePORTER (grants)</button>
    </div>

    <div class="hr"></div>
    <p class="muted"><span class="pill">Tip</span> Start with ClinicalTrials.gov for U.S. coverage. Use WHO and EU CTIS to widen globally. PubMed/RePORTER give background on who’s active in the field.</p>
  </div>

  <div class="card">
    <h2>What we’ll build next</h2>
    <ul class="muted" style="margin:0 0 0 16px">
      <li>Unified results list here with simple language and contact buttons</li>
      <li>Filters: distance from ZIP, age/sex eligibility, phase toggles</li>
      <li>“Why this might fit you” notes and a printable summary</li>
    </ul>
  </div>

</div>

<script>
  function val(id){ return (document.getElementById(id).value||'').trim(); }
  function term(){
    const q = val('q');
    const p = document.getElementById('phase').value;
    // Build a human-friendly query string (we do not rely on exact param names of other sites)
    return [q, p && `"${p}"`].filter(Boolean).join(' ');
  }

  function openCtGov(){
    const q = term();
    const recruiting = document.getElementById('recr').checked;
    // Use term-based search to avoid fragile params; user can refine on ct.gov UI
    let url = 'https://clinicaltrials.gov/ct2/results?';
    const params = new URLSearchParams();
    if(q) params.set('term', q);
    if(recruiting) params.set('recrs', 'ab'); // show recruiting & not yet recruiting (broad) — safe default
    // Note: Different deployments of ct.gov accept various flags; if ignored, page still loads with term
    url += params.toString();
    window.open(url, '_blank', 'noopener');
  }

  function openWHO(){
    // WHO ICTRP public search; if q unsupported as param, landing page still opens
    const q = term();
    const url = q ? `https://trialsearch.who.int/?q=${encodeURIComponent(q)}` : 'https://trialsearch.who.int/';
    window.open(url, '_blank', 'noopener');
  }

  function openEU(){
    // EU Clinical Trials Information System — public search
    const q = term();
    const url = q ? `https://euclinicaltrials.eu/ctis-public/#/search?text=${encodeURIComponent(q)}` : 'https://euclinicaltrials.eu/ctis-public/#/search';
    window.open(url, '_blank', 'noopener');
  }

  function openPubMed(){
    const q = term();
    const url = `https://pubmed.ncbi.nlm.nih.gov/?term=${encodeURIComponent(q || 'clinical trial')}`;
    window.open(url, '_blank', 'noopener');
  }

  function openRePORTER(){
    const q = term();
    const url = `https://reporter.nih.gov/search/?terms=${encodeURIComponent(q || 'cancer')}`;
    window.open(url, '_blank', 'noopener');
  }
</script>
</body>
</html>
